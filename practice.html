<!DOCTYPE html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>jQuery實現購物車物品數量的加減</title>

    <script>


        function adder(plus) {
            var count = document.getElementById("countCar").innerHTML;
            count = parseInt(count) + 1;
            document.getElementById("countCar").innerHTML = count;
        }
        function minuser(minus) {
            var count = document.getElementById("countCar").innerHTML;
            if (count <= 0) {
                count = 0;
            } else {
                count = parseInt(count) - 1;
            }
            document.getElementById("countCar").innerHTML = count;
        }
        // window.onload = function () {
        //     // 2.獲取元素
        //     var liCheck = document.getElementsByName("liCheck"); //li裡面的核取方塊
        //     var decrease = document.getElementsByClassName("decrease"); //減號
        //     var piece = document.getElementsByClassName("piece"); //件數
        //     var increase = document.getElementsByClassName("increase"); //加號
        //     var price = document.getElementsByClassName("price"); //單價
        //     var smallPrice = document.getElementsByClassName("smallPrice"); //小計
        //     var checkAll = document.getElementById("checkAll"); //全選核取方塊
        //     var totalCount = document.getElementById("totalCount"); //總計
        //     var totalPrice = document.getElementById("totalPrice"); //總價
        //     // 3.加減按鈕
        //     for (var i = 0; i < decrease.length; i++) {
        //         // 4.另存下標
        //         decrease[i].index = i;
        //         increase[i].index = i;
        //         liCheck[i].index = i;
        //         // 5.減號的點選事件
        //         decrease[i].onclick = function () {
        //             // 5-1.判斷件數是否大於0
        //             if (piece[this.index].innerHTML <= 1) {
        //                 this.disabled = true; //當件數小於等於0時, 將減號按鈕禁用
        //             }
        //             // 5-1-1.當前件數-1
        //             piece[this.index].innerHTML--;
        //             // 5-1-2.計算小計
        //             smallPrice[this.index].value = Number(smallPrice[this.index].value) - Number(price[this.index].innerHTML);
        //             // 6-4.如果當前條目是被選中狀態, 則需要將該商品計入總計和總價
        //             if (liCheck[this.index].checked) { //選中
        //                 totalCount.innerHTML--;
        //                 totalPrice.innerHTML = Number(totalPrice.innerHTML) - Number(price[this.index].innerHTML);
        //             }
        //         }
        //         // 6.加號的點選事件
        //         increase[i].onclick = function () {
        //             // 6-1.將對應的減號解禁
        //             decrease[this.index].disabled = false;
        //             // 6-2.當前件數+1
        //             piece[this.index].innerHTML++;
        //             // 6-3.計算小計
        //             smallPrice[this.index].value = Number(smallPrice[this.index].value) + Number(price[this.index].innerHTML);
        //             // 6-4.如果當前條目是被選中狀態, 則需要將該商品計入總計和總價
        //             if (liCheck[this.index].checked) { //選中
        //                 totalCount.innerHTML++;
        //                 totalPrice.innerHTML = Number(totalPrice.innerHTML) + Number(price[this.index].innerHTML);
        //             }
        //         }
        //         // 7.核取方塊的狀態改變事件
        //         var count = 0; //儲存選中個數
        //         liCheck[i].onchange = function () {
        //             // 7-1.判斷是否選中
        //             if (this.checked) { //選中狀態
        //                 count++;
        //                 totalCount.innerHTML = Number(totalCount.innerHTML) + Number(piece[this.index].innerHTML); //總計加當前件數
        //                 totalPrice.innerHTML = Number(totalPrice.innerHTML) + Number(smallPrice[this.index].value); //總計加當前件數
        //                 // 7-1-1. 判斷選中個數是否與核取方塊個數一致
        //             } else { //取消選中狀態
        //                 count--;
        //                 totalCount.innerHTML = Number(totalCount.innerHTML) - Number(piece[this.index].innerHTML); //總計加當前件數
        //                 totalPrice.innerHTML = Number(totalPrice.innerHTML) - Number(smallPrice[this.index].value); //總計加當前件數
        //             }
        //             count == liCheck.length ? checkAll.checked = true : checkAll.checked = false;
        //         }
        //     }
        //     // 8.全選核取方塊
        //     checkAll.onchange = function () {
        //         totalCount.innerHTML = 0; //總計置為0
        //         totalPrice.innerHTML = 0; //總價置為0
        //         for (var j = 0; j < liCheck.length; j++) {
        //             // 8-1. 將li裡面的核取方塊與全選狀態保持一致
        //             liCheck[j].checked = this.checked;
        //             // 8-2. 判斷是否全選
        //             if (this.checked) {
        //                 count = liCheck.length;
        //                 totalCount.innerHTML = Number(totalCount.innerHTML) + Number(piece[j].innerHTML);
        //                 totalPrice.innerHTML = Number(totalPrice.innerHTML) + Number(smallPrice[j].value);
        //             } else {
        //                 count = 0;
        //             }
        //         }
        //     }
        // }

    </script>

    <style>
        ul,
        li {
            margin: 0;
            padding: 0;
        }

        .counter li {
            float: left;
            list-style-type: none;
            width: 30px;
            height: 30px;
            text-align: center;
            line-height: 30px;
            border: #999 thin solid;
            background-color: #fff
        }

        .counter li input {
            font-size: 20px;
            width: 100%;
            height: 100%;
            outline: none;
            -webkit-appearance: none;
            background: none;
            margin: 0;
            padding: 0;
            border: 1px solid transparent;
            border-radius: 0;
        }

        #countnum {
            border-left: hidden;
            border-right: hidden;
            color: #666
        }

        html,
        body,
        ul,
        p {
            margin: 0;
            padding: 0;
        }

        ul,
        li {
            list-style: none;
        }

        ul {
            width: 450px;
        }

        li {
            display: flex;
            justify-content: space-around;
        }

        .sum {
            width: 450px;
            display: flex;
            justify-content: space-around;
        }

        #container {
            width: 450px;
            margin: 100px auto;
        }
    </style>
</head>

<body>


    <ul class="counter">
        <li id="plus"><input type="button" onclick="adder(this)" value="+" /></li>
        <li id="countCar">0</li>
        <li id="minus"><input type="button" onclick="minuser(this)" value="-" /></li>
    </ul>
    
    <ul class="counter">
        <li id="plus"><input type="button" onclick="adder(this)" value="+" /></li>
        <li id="countCar">0</li>
        <li id="minus"><input type="button" onclick="minuser(this)" value="-" /></li>
    </ul>


    <!-- <div id="container">
        <ul>
            <li>
                <input type="checkbox" name="liCheck" id="" value="">
                <button type="button" class="decrease" disabled="disabled">-</button>
                <p>
                    <span class="piece">0</span>件
                </p>
                <button type="button" class="increase">+</button>
                <p>
                    <span class="price">10</span>元
                </p>
                <p>
                    小計:
                    <input class="smallPrice" type="text" name="" id="" value="0" disabled="disabled">
                </p>
            </li>
            <li>
                <input type="checkbox" name="liCheck" id="" value="">
                <button type="button" class="decrease" disabled="disabled">-</button>
                <p>
                    <span class="piece">0</span>件
                </p>
                <button type="button" class="increase">+</button>
                <p>
                    <span class="price">20</span>元
                </p>
                <p>
                    小計:
                    <input class="smallPrice" type="text" name="" id="" value="0" disabled="disabled">
                </p>
            </li>

        <div class="sum">
            <label>
                <input type="checkbox" name="" id="checkAll" value="">全選
            </label>
            <p>
                商品總計:
                <span id="totalCount">0</span>
            </p>
            <p>
                商品總價:
                <span id="totalPrice">0</span>
            </p>
        </div>
    </div> -->
</body>

</html>